{% extends "layout/base.html" %}

{% block title %}Resultados para "{{ termino }}" | Wiki Silksong{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="/static/css/listas.css">
{% endblock %}

{% block content %}

    <main class="lista-contenedor">

        <h1 class="lista-titulo">Resultados para "{{ termino }}"</h1>

        {% if not npcs and not items and not misiones and not ubicaciones %}
            <p class="sin-resultados">No se encontraron resultados.</p>
        {% endif %}

        {% if npcs %}
        <h2 class="subtitulo">NPCs</h2>
        <div class="lista-grid">
            {% for n in npcs %}
                <div class="lista-card" onclick="window.location.href='/npcs/{{ n.id }}'">
                    <img src="{{ n.imagen_url }}" alt="{{ n.nombre }}">
                    <p>{{ n.nombre }}</p>
                </div>
            {% endfor %}
        </div>
        {% endif %}

        {% if ubicaciones %}
        <h2 class="subtitulo">Ubicaciones</h2>
        <div class="lista-grid">
            {% for u in ubicaciones %}
                <div class="lista-card" onclick="window.location.href='/ubicaciones/{{ u.id }}'">
                    <img src="{{ u.imagen_url }}" alt="{{ u.nombre }}">
                    <p>{{ u.nombre }}</p>
                </div>
            {% endfor %}
        </div>
        {% endif %}

        {% if misiones %}
        <h2 class="subtitulo">Misiones</h2>
        <div class="lista-grid">
            {% for m in misiones %}
                <div class="lista-card" onclick="window.location.href='/misiones/{{ m.id }}'">
                    <img src="https://azbsgiuhvkwmpeiwrwdd.supabase.co/storage/v1/object/public/npc_imagenes/public/mision_icon.png">
                    <p>{{ m.titulo }}</p>
                </div>
            {% endfor %}
        </div>
        {% endif %}

        {% if items %}
        <h2 class="subtitulo">√çtems</h2>
        <div class="lista-grid">
            {% for i in items %}
                <div class="lista-card" onclick="window.location.href='/items/{{ i.id }}'">
                    <img src="{{ i.imagen_url }}" alt="{{ i.nombre }}">
                    <p>{{ i.nombre }}</p>
                </div>
            {% endfor %}
        </div>
        {% endif %}
    </main>

{% endblock %}