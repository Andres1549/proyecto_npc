{% extends "layout/base.html" %}

{% block extra_css %}
<link rel="stylesheet" href="/static/css/detalle.css">
{% endblock %}

{% block content %}

<div class="detalle-container">

    <div class="detalle-info">
        <h1 class="detalle-titulo">{{ npc.nombre }}</h1>

        <p class="detalle-descripcion">
            {{ npc.descripcion }}
        </p>

        {% if npc.tipo == "vendedor" and items %}
        <h2 class="subtitulo">√çtems que vende</h2>
        <div class="lista-secundaria">
            {% for i in items %}
                <div class="item-card" onclick="window.location.href='/items/{{ i.id }}'">
                    <img src="{{ i.imagen_url }}" alt="{{ i.nombre }}">
                    <p>{{ i.nombre }}</p>
                </div>
            {% endfor %}
        </div>
        {% endif %}

        {% if npc.tipo == "misiones" and misiones %}
        <h2 class="subtitulo">Misiones asociadas</h2>
        <div class="lista-secundaria">
            {% for m in misiones %}
                <div class="item-card" onclick="window.location.href='/misiones/{{ m.id }}'">
                    <img src="https://azbsgiuhvkwmpeiwrwdd.supabase.co/storage/v1/object/public/npc_imagenes/public/mision_icon.png">
                    <p>{{ m.titulo }}</p>
                </div>
            {% endfor %}
        </div>
        {% endif %}

    </div>

    <div class="detalle-imagen">
        <img src="{{ npc.imagen_url }}" alt="{{ npc.nombre }}">
    </div>

</div>

{% endblock %}
